import { Subscription } from '@/types/subscription';
import { addDays, addMonths, subMonths } from 'date-fns';
import { computeCancelByDate } from '@/utils/subscriptionHelpers';

export const sampleSubscriptions: Subscription[] = [
  {
    id: 'sample-1',
    name: 'Netflix',
    amount: 15.99,
    currency: 'USD',
    renewalDate: addDays(new Date(), 2).toISOString().split('T')[0],
    intent: 'trial', // User signed up for trial, plans to cancel
    cancelByRule: '1-day-before',
    cancelByDate: addDays(new Date(), 1).toISOString().split('T')[0], // Tomorrow - urgent!
    billingPeriod: 'monthly',
    category: 'streaming',
    cancellationMethod: 'web',
    cancellationUrl: 'https://www.netflix.com/cancelplan',
    cancellationSteps: '1. Go to Account Settings\n2. Click "Cancel Membership"\n3. Confirm cancellation',
    cancelByNotes: 'Must cancel at least 24 hours before renewal',
    supportContact: 'support@netflix.com',
    reminders: {
      sevenDays: true,
      threeDays: true,
      oneDay: true,
      dayOf: true,
    },
    proofDocuments: [],
    proofStatus: 'not-required', // Active trial, proof not needed yet
    timeline: [
      {
        id: 'event-1',
        type: 'created',
        timestamp: subMonths(new Date(), 3).toISOString(),
        description: 'Subscription added: Netflix',
      },
    ],
    status: 'trial',
    trialEndDate: addDays(new Date(), 2).toISOString().split('T')[0],
    createdAt: subMonths(new Date(), 3).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    id: 'sample-2',
    name: 'Adobe Creative Cloud',
    amount: 52.99,
    currency: 'USD',
    renewalDate: addMonths(new Date(), 1).toISOString().split('T')[0],
    intent: 'cancel-soon', // User wants to cancel before next renewal
    cancelByRule: '3-days-before',
    cancelByDate: addDays(addMonths(new Date(), 1), -3).toISOString().split('T')[0],
    billingPeriod: 'monthly',
    category: 'software',
    cancellationMethod: 'web',
    cancellationUrl: 'https://account.adobe.com/',
    cancellationSteps: '1. Sign in to your Adobe account\n2. Go to Plans\n3. Select Cancel Plan\n4. Follow the cancellation wizard',
    supportContact: '1-800-833-6687',
    reminders: {
      sevenDays: true,
      threeDays: true,
      oneDay: true,
      dayOf: true,
    },
    proofDocuments: [],
    proofStatus: 'not-required', // Still active, hasn't attempted cancellation
    timeline: [
      {
        id: 'event-2',
        type: 'created',
        timestamp: subMonths(new Date(), 2).toISOString(),
        description: 'Subscription added: Adobe Creative Cloud',
      },
    ],
    status: 'active',
    createdAt: subMonths(new Date(), 2).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    id: 'sample-3',
    name: 'Planet Fitness',
    amount: 24.99,
    currency: 'USD',
    renewalDate: addDays(new Date(), 15).toISOString().split('T')[0],
    intent: 'cancel-soon',
    cancelByRule: '1-day-before',
    cancelByDate: addDays(new Date(), 14).toISOString().split('T')[0],
    billingPeriod: 'monthly',
    category: 'fitness',
    cancellationMethod: 'email',
    cancellationUrl: 'mailto:support@planetfitness.com',
    cancellationSteps: '1. Send email to support@planetfitness.com\n2. Include your membership number\n3. Request cancellation confirmation\n4. Wait for confirmation email',
    requiredInfo: 'Membership number, email on file',
    supportContact: 'support@planetfitness.com',
    reminders: {
      sevenDays: true,
      threeDays: true,
      oneDay: true,
      dayOf: true,
    },
    proofDocuments: [],
    proofStatus: 'not-required',
    timeline: [
      {
        id: 'event-3',
        type: 'created',
        timestamp: subMonths(new Date(), 6).toISOString(),
        description: 'Subscription added: Planet Fitness',
      },
    ],
    status: 'active',
    createdAt: subMonths(new Date(), 6).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    id: 'sample-4',
    name: 'The New York Times',
    amount: 17.00,
    currency: 'USD',
    renewalDate: subMonths(new Date(), 1).toISOString().split('T')[0],
    intent: 'cancel-soon',
    cancelByRule: 'end-of-period',
    cancelByDate: subMonths(new Date(), 1).toISOString().split('T')[0],
    billingPeriod: 'monthly',
    category: 'news',
    cancellationMethod: 'web',
    cancellationUrl: 'https://myaccount.nytimes.com/seg/settings',
    cancellationDate: subMonths(new Date(), 1).toISOString().split('T')[0],
    cancellationSteps: '1. Go to Account Settings\n2. Click Manage Subscription\n3. Click Cancel Subscription\n4. Screenshot the confirmation page',
    supportContact: '1-800-698-4637',
    reminders: {
      sevenDays: false,
      threeDays: false,
      oneDay: false,
      dayOf: false,
    },
    proofDocuments: [
      {
        id: 'proof-1',
        name: 'Cancellation Confirmation Screenshot',
        type: 'screenshot',
        timestamp: subMonths(new Date(), 1).toISOString(),
        notes: 'Screenshot showing cancellation confirmation and effective date',
      },
      {
        id: 'proof-2',
        name: 'Email Confirmation',
        type: 'email',
        timestamp: subMonths(new Date(), 1).toISOString(),
        confirmationNumber: 'NYT-CANCEL-20250128-7734',
        notes: 'Confirmation email received after cancellation',
      },
    ],
    proofStatus: 'complete', // Cancelled with complete proof
    timeline: [
      {
        id: 'event-4-1',
        type: 'created',
        timestamp: subMonths(new Date(), 12).toISOString(),
        description: 'Subscription added: The New York Times',
      },
      {
        id: 'event-4-2',
        type: 'cancellation-attempted',
        timestamp: subMonths(new Date(), 1).toISOString(),
        description: 'Visited cancellation page',
        notes: 'Navigated through cancellation flow',
      },
      {
        id: 'event-4-3',
        type: 'cancellation-confirmed',
        timestamp: subMonths(new Date(), 1).toISOString(),
        description: 'Subscription marked as cancelled',
      },
      {
        id: 'event-4-4',
        type: 'proof-added',
        timestamp: subMonths(new Date(), 1).toISOString(),
        description: 'Added proof: Cancellation Confirmation Screenshot',
        proofId: 'proof-1',
      },
      {
        id: 'event-4-5',
        type: 'proof-added',
        timestamp: subMonths(new Date(), 1).toISOString(),
        description: 'Added proof: Email Confirmation',
        proofId: 'proof-2',
      },
    ],
    status: 'cancelled',
    notes: 'Cancelled after price increase from $12 to $17',
    createdAt: subMonths(new Date(), 12).toISOString(),
    updatedAt: subMonths(new Date(), 1).toISOString(),
  },
  {
    id: 'sample-5',
    name: 'Spotify Premium',
    amount: 10.99,
    currency: 'USD',
    renewalDate: addDays(new Date(), 20).toISOString().split('T')[0],
    intent: 'keep', // User wants to keep this subscription
    cancelByRule: 'anytime',
    cancelByDate: computeCancelByDate(
      addDays(new Date(), 20).toISOString().split('T')[0],
      'anytime'
    ),
    billingPeriod: 'monthly',
    category: 'streaming',
    cancellationMethod: 'web',
    cancellationUrl: 'https://www.spotify.com/us/account/subscription/',
    cancellationSteps: '1. Log in to your account\n2. Go to Subscription\n3. Click Cancel Premium\n4. Confirm cancellation',
    reminders: {
      sevenDays: false, // No cancel-by reminders for subscriptions they're keeping
      threeDays: false,
      oneDay: false,
      dayOf: false,
    },
    proofDocuments: [],
    proofStatus: 'not-required',
    timeline: [
      {
        id: 'event-5',
        type: 'created',
        timestamp: subMonths(new Date(), 8).toISOString(),
        description: 'Subscription added: Spotify Premium',
      },
    ],
    status: 'active',
    createdAt: subMonths(new Date(), 8).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    id: 'sample-6',
    name: 'Amazon Prime',
    amount: 139.00,
    currency: 'USD',
    renewalDate: addMonths(new Date(), 3).toISOString().split('T')[0],
    intent: 'keep',
    cancelByRule: 'anytime',
    cancelByDate: computeCancelByDate(
      addMonths(new Date(), 3).toISOString().split('T')[0],
      'anytime'
    ),
    billingPeriod: 'yearly',
    category: 'other',
    cancellationMethod: 'web',
    cancellationUrl: 'https://www.amazon.com/gp/help/customer/display.html?nodeId=201118010',
    cancellationSteps: '1. Go to Prime Membership\n2. Update, cancel, and more\n3. End Membership\n4. Confirm',
    cancelByNotes: 'Can cancel anytime; prorated refund may be available',
    supportContact: '1-888-280-4331',
    reminders: {
      sevenDays: false,
      threeDays: false,
      oneDay: false,
      dayOf: false,
    },
    proofDocuments: [],
    proofStatus: 'not-required',
    timeline: [
      {
        id: 'event-6',
        type: 'created',
        timestamp: subMonths(new Date(), 9).toISOString(),
        description: 'Subscription added: Amazon Prime',
      },
    ],
    status: 'active',
    createdAt: subMonths(new Date(), 9).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    id: 'sample-7',
    name: 'HelloFresh',
    amount: 11.99,
    currency: 'USD',
    renewalDate: addDays(new Date(), 5).toISOString().split('T')[0],
    intent: 'trial',
    cancelByRule: '7-days-before',
    cancelByDate: addDays(new Date(), -2).toISOString().split('T')[0], // Already passed!
    billingPeriod: 'weekly',
    category: 'other',
    cancellationMethod: 'web',
    cancellationUrl: 'https://www.hellofresh.com/my-deliveries',
    cancellationSteps: '1. Go to My Deliveries\n2. Skip or pause next delivery\n3. Contact support to cancel permanently',
    cancelByNotes: 'Must skip/cancel 5 days before delivery date',
    supportContact: 'help@hellofresh.com',
    reminders: {
      sevenDays: true,
      threeDays: true,
      oneDay: true,
      dayOf: true,
    },
    proofDocuments: [],
    proofStatus: 'not-required',
    timeline: [
      {
        id: 'event-7',
        type: 'created',
        timestamp: subMonths(new Date(), 2).toISOString(),
        description: 'Subscription added: HelloFresh',
      },
    ],
    status: 'trial',
    trialEndDate: addDays(new Date(), 5).toISOString().split('T')[0],
    createdAt: subMonths(new Date(), 2).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    id: 'sample-8',
    name: 'VPN Pro',
    amount: 9.99,
    currency: 'USD',
    renewalDate: addDays(new Date(), -3).toISOString().split('T')[0], // Already renewed 3 days ago
    intent: 'cancel-soon',
    cancelByRule: '1-day-before',
    cancelByDate: addDays(new Date(), -4).toISOString().split('T')[0],
    cancelAttemptDate: addDays(new Date(), -5).toISOString().split('T')[0],
    billingPeriod: 'monthly',
    category: 'software',
    cancellationMethod: 'email',
    cancellationSteps: '1. Email support@vpnpro.com\n2. Request cancellation\n3. Wait for confirmation',
    supportContact: 'support@vpnpro.com',
    reminders: {
      sevenDays: true,
      threeDays: true,
      oneDay: true,
      dayOf: true,
    },
    proofDocuments: [
      {
        id: 'proof-8-1',
        name: 'Cancellation Request Email',
        type: 'email',
        timestamp: addDays(new Date(), -5).toISOString(),
        notes: 'Sent cancellation request but never received confirmation',
      },
    ],
    proofStatus: 'incomplete', // Cancel-attempted but no confirmation proof
    timeline: [
      {
        id: 'event-8-1',
        type: 'created',
        timestamp: subMonths(new Date(), 4).toISOString(),
        description: 'Subscription added: VPN Pro',
      },
      {
        id: 'event-8-2',
        type: 'cancellation-attempted',
        timestamp: addDays(new Date(), -5).toISOString(),
        description: 'Sent cancellation email',
        notes: 'Emailed support@vpnpro.com requesting cancellation',
      },
      {
        id: 'event-8-3',
        type: 'proof-added',
        timestamp: addDays(new Date(), -5).toISOString(),
        description: 'Added proof: Cancellation Request Email',
        proofId: 'proof-8-1',
      },
    ],
    status: 'cancel-attempted', // Tried to cancel but not confirmed
    notes: 'Sent cancellation email 5 days ago, no response yet. Was charged anyway.',
    createdAt: subMonths(new Date(), 4).toISOString(),
    updatedAt: addDays(new Date(), -3).toISOString(),
  },
];